{
  "title": "Netlify Deployment Metrics",
  "description": "Visualizes deployment success metrics including synthetic test results, response times, and visual regression detection",
  "widgets": [
    {
      "definition": {
        "type": "note",
        "content": "# ai-tools-experiments Deployment Metrics\n\nMonitoring deployment success and visual regression metrics",
        "background_color": "vivid_blue",
        "font_size": "16",
        "text_align": "center",
        "show_tick": true,
        "tick_pos": "bottom",
        "tick_edge": "bottom"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 2
      }
    },
    {
      "definition": {
        "title": "Deployment Success Rate",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:synthetics.test.results{test_name:*css*validation*,env:production} by {status}.as_count().last('1d')",
            "aggregator": "sum",
            "conditional_formats": [
              {
                "comparator": "<",
                "value": 80,
                "palette": "red"
              },
              {
                "comparator": ">=",
                "value": 80,
                "palette": "yellow"
              },
              {
                "comparator": ">=",
                "value": 95,
                "palette": "green"
              }
            ]
          }
        ],
        "precision": 1,
        "autoscale": true
      },
      "layout": {
        "x": 0,
        "y": 2,
        "width": 4,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Deployment Frequency",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:events{source:deployment,site:ai-tools-experiments}.rollup(count).by{status}",
            "display_type": "bars"
          }
        ],
        "custom_links": [],
        "time": {}
      },
      "layout": {
        "x": 4,
        "y": 2,
        "width": 8,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "CSS Validation Test Results",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:synthetics.test.results{test_name:*css*validation*,env:production} by {status}.as_count()",
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "value": "y = 0",
            "display_type": "error dashed",
            "label": "All Tests Failing"
          }
        ],
        "time": {}
      },
      "layout": {
        "x": 0,
        "y": 5,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "title": "API Response Time Around Deployments",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "q": "avg:api.http.response_time{env:production}",
            "display_type": "line"
          }
        ],
        "events": [
          {
            "q": "sources:deployment status:success tags:site:ai-tools-experiments"
          }
        ],
        "time": {}
      },
      "layout": {
        "x": 6,
        "y": 5,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "title": "Visual Regression Detection",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:synthetics.browser.run_results{test_name:*css*validation*,check_type:contains,env:production,status:fail} by {check_name}.as_count()",
            "display_type": "bars"
          }
        ],
        "time": {}
      },
      "layout": {
        "x": 0,
        "y": 9,
        "width": 12,
        "height": 4
      }
    },
    {
      "definition": {
        "title": "Recent Deployments",
        "title_size": "16",
        "title_align": "left",
        "type": "list_stream",
        "requests": [
          {
            "columns": [
              {
                "field": "timestamp",
                "width": "auto"
              },
              {
                "field": "message",
                "width": "auto"
              },
              {
                "field": "status",
                "width": "auto"
              }
            ],
            "query": {
              "data_source": "event_stream",
              "event_size": "l",
              "query": "sources:deployment tags:site:ai-tools-experiments"
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 13,
        "width": 12,
        "height": 4
      }
    }
  ],
  "template_variables": [
    {
      "name": "env",
      "default": "production",
      "prefix": "env"
    }
  ],
  "layout_type": "ordered",
  "is_read_only": false,
  "notify_list": []
}