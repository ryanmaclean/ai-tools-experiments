---
// src/pages/index.astro - HOME PAGE
import MainLayout from '../layouts/MainLayout.astro';
import ProductionHomeContent from '../content/ai-tools-lab-homepage.html?raw';

const pageTitle = "Home | AI Tools Lab";
const description = "Collection of AI tools experiments and resources.";
const ogImageUrl = "/images/ai-tools-lab-logo.png";

// Extract just the main content from the production homepage
function extractMainContent(html) {
  // Look for the main tag content - this should contain the primary content
  const mainContentMatch = html.match(/<main[^>]*>([\s\S]*?)<\/main>/i);
  
  if (mainContentMatch && mainContentMatch[1]) {
    return mainContentMatch[1].trim();
  }
  
  // Fallback to just returning everything between body tags if main tag not found
  const bodyContentMatch = html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);
  if (bodyContentMatch && bodyContentMatch[1]) {
    return bodyContentMatch[1].trim();
  }
  
  // If all else fails, return the entire HTML
  return html;
}

const extractedContent = extractMainContent(ProductionHomeContent);
---

<MainLayout title={pageTitle} description={description}>
  <!-- Render the extracted content from production site -->
  <Fragment set:html={extractedContent} />
</MainLayout>
